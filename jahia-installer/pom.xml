<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://maven.apache.org/POM/4.0.0
                      http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <groupId>org.jahia.server</groupId>
    <modelVersion>4.0.0</modelVersion>
    <artifactId>jahia-installer</artifactId>
    <version>1.1</version>
    <name>Jahia Installer</name>
    <packaging>pom</packaging>
    <properties>
        <!--<jahia.package.name>jahia-war</jahia.package.name>-->
        <!--<product.name>Jahia xCM Community Edition</product.name>-->
        <!--<installer.filename>Jahia_xCM_CE_v${jahia.package.version}_r${buildNumber}</installer.filename>-->
        <izpack.version>4.3.3-SNAPSHOT</izpack.version>
        <staging.dir>${project.build.directory}/izpack</staging.dir>
        <launch4j.jahia.version>6.5.0.0</launch4j.jahia.version>
        <jahia.installers.version>1.1</jahia.installers.version>       
    </properties>

  	<scm>
      <connection>scm:svn:http://10.8.37.111/svn/jahia/trunk/</connection>
      <developerConnection>scm:svn:http://10.8.37.111/svn/jahia/trunk/</developerConnection>
      <url>http://10.8.37.111/svn/jahia/trunk</url>
    </scm>

    <dependencies>
        <dependency>
            <groupId>org.codehaus.izpack</groupId>
            <artifactId>izpack-standalone-compiler</artifactId>
            <version>${izpack.version}</version>
            <classifier>jahia</classifier>
        </dependency>
        <dependency>
            <groupId>commons-lang</groupId>
            <artifactId>commons-lang</artifactId>
            <version>2.5</version>
        </dependency>
    </dependencies>

    <modules>
        <module>jahia-installer-lib</module>
        <module>jahia-common-installer-package</module>
    </modules>

    <distributionManagement>
        <repository>
            <id>jahiaRepository</id>
            <url>scpexe://maven.jahia.org/var/www/vhosts/maven.jahia.org/html/maven2</url>
        </repository>
        <site>
            <id>jahia.website</id>
            <url>file://${jahia.site.path}</url>
        </site>
    </distributionManagement>

<build>
          <plugins>
        <plugin>
          <groupId>org.codehaus.mojo</groupId>
          <artifactId>buildnumber-maven-plugin</artifactId>
          <version>1.0-beta-3</version>
          <executions>
            <execution>
              <phase>validate</phase>
              <goals>
                <goal>create</goal>
              </goals>
            </execution>
          </executions>
          <configuration>
            <doCheck>false</doCheck>
            <doUpdate>false</doUpdate>
            <useLastCommittedRevision>true</useLastCommittedRevision>
            <getRevisionOnlyOnce>true</getRevisionOnlyOnce>
            <revisionOnScmFailure>00000</revisionOnScmFailure>
            <!-- seems this doesn't work well yet, but maybe in a new future ?
            <providerImplementations>
              <svn>javasvn</svn>
            </providerImplementations>
             -->
          </configuration>
        </plugin>
        </plugins>

</build>

</project>
